<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <title>[B]03.02</title>
</head>
<body>
    <h1>Результати запитів</h1>
    <div id="output"></div>

    <script>
        function delay(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        async function fetchPost(id) {
            const response = await fetch(`https://jsonplaceholder.typicode.com/posts/${id}`);
            const data = await response.json();
            return data;
        }

        async function run() {
            const output = document.getElementById('output');

            for (let i = 1; i <= 3; i++) {
                try {
                    const post = await fetchPost(i);
                    const div = document.createElement('div');
                    div.innerHTML = `<h3>${post.title}</h3><p>${post.body}</p>`;
                    output.appendChild(div);

                    await delay(1000);
                } catch (error) {
                    console.error(`Помилка запиту ${i}:`, error);
                }
            }
        }
        run();
    </script>
</body>
</html>
